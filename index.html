<script>
/* ===== CONFIG ===== */
const DOB = { year: 2002, month: 1, day: 24 }; // month = 1â€“12
const YEARS = 85;
const WEEKS_PER_YEAR = 52;
/* ================== */

// force UTC dates (prevents timezone bugs)
const birthDateUTC = Date.UTC(DOB.year, DOB.month - 1, DOB.day);
const now = new Date();
const todayUTC = Date.UTC(
  now.getUTCFullYear(),
  now.getUTCMonth(),
  now.getUTCDate()
);

const MS_PER_WEEK = 1000 * 60 * 60 * 24 * 7;
const weeksLived = Math.floor((todayUTC - birthDateUTC) / MS_PER_WEEK);

const TOTAL_WEEKS = YEARS * WEEKS_PER_YEAR;
const cols = WEEKS_PER_YEAR;
const rows = YEARS;

const size = 14;
const gap = 4;

const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

canvas.width = cols * (size + gap);
canvas.height = rows * (size + gap);

// draw grid
for (let week = 0; week < TOTAL_WEEKS; week++) {
  const x = (week % cols) * (size + gap);
  const y = Math.floor(week / cols) * (size + gap);

  if (week < weeksLived) {
    ctx.fillStyle = "#777";   // past
  } else if (week === weeksLived) {
    ctx.fillStyle = "#fff";   // current week
  } else {
    ctx.fillStyle = "#222";   // future
  }

  ctx.fillRect(x, y, size, size);
}
</script>

